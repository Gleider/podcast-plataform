<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css" href="css/search.css">
  <link rel="stylesheet" type="text/css" href="css/top.css">
  <script src="../dist/podcast-search.umd.js"></script>

  <title>Top podcasts</title>
</head>
<body>
  <nav id='menu'>
      <a class='menu' href="search.html">Search</a>
      <a class='menu' href="top.html">Top</a>
      <a class='menu' href="tags.html">Tags</a>
  </nav>
  <div id="bd">
    <div id="topCorpo">
      <div id="topTitulo">
        <h1>List Top Podcasts</h1>
      </div>
      <button id="top10">10</button>
      <button id="top20">20</button>
      <button id="top50">50</button>
      <button id="top100">100</button>
      <button id="top200">200</button>
      <button id="top500">500</button>
      <button id="top1000">1000</button>
     
    </div>
    <div id="uList">
      <ul>
        <div id="listPodcast"></div>
      </ul>
    </div>
  </div>
  <script>
    
    let $top10 = document.getElementById("top10");
    let $top20 = document.getElementById("top20");
    let $top50 = document.getElementById("top50");
    let $top100 = document.getElementById("top100");
    let $top200 = document.getElementById("top200");
    let $top500 = document.getElementById("top500");
    let $top1000 = document.getElementById("top1000");
    let $list = document.getElementById("listPodcast");

    function callTop(n){
      const podcast = podcastSearch.top(n);
      podcast.then(result => {
        $list.innerHTML = '';
        for(let i = 0; i < n; i++){
          $list.innerHTML += `<div class="img">
            <li><a href="${result[i].website}" target="_blank"><img class="topImg" src="${result[i].logo_url}"></a></li>
            </div>`;
        }
      
      });
      
    }
    $top10.addEventListener("click", () => {
      callTop(10);
    });
    $top20.addEventListener("click", () => {
      callTop(20);
    });
    $top50.addEventListener("click", () => {
      callTop(50);
    });
    $top100.addEventListener("click", () => {
      callTop(100);
    });
    $top200.addEventListener("click", () => {
      callTop(200);
    });
    $top500.addEventListener("click", () => {
      callTop(500);
    });
    $top1000.addEventListener("click", () => {
      callTop(1000);
    });
  </script>
</body>
</html>